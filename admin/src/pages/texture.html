<style>
    .texture-pic {
        width: 34px;
        height: 34px;
        float: left;
    }
</style>

<section class="content-header">
    <h1>
        Вид констр. разметки
    </h1>
</section>

<section class="content">
    <div class="row">
        <div class="col-xs-12">
            <div class="box">
                <div class="box-body">
                    <form role="form" data-bind="with: current_item">
                        <div class="box-body">
                            <div class="form-group">
                                <label>Название</label>
                                <input class="form-control" placeholder="Имя" data-bind="textInput: name">
                            </div>
                            <div class="form-group">
                                <label>Текстура</label>
                                <input type="file" data-bind="fileUpload: {
                                    url: '/api/admin/textures/upload_pic',
                                    done: $parent.uploadPicDone
                                }" />
                                <!-- ko if: img -->
                                <div data-bind="style: {
                                    'background-image': 'url(/data/' + img() + ')'
                                }" class="texture-pic"></div>
                                <!-- /ko -->
                            </div>
                        </div>

                        <div class="box-footer">
                            <button type="submit" class="btn btn-primary" data-bind="click: $parent.save">Сохранить</button>
                            <button type="submit" class="btn btn-default" data-bind="click: $parent.cancel">Отмена</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
